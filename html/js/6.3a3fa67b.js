webpackJsonp([6],{"/Yx9":function(e,t,a){t=e.exports=a("FZ+f")(!1),t.push([e.i,".opt-group .cell{overflow:visible}",""])},"2Y91":function(e,t,a){t=e.exports=a("FZ+f")(!1),t.push([e.i,".modal-content[data-v-1cc5c703]{overflow:hidden}@media screen and (min-width:992px){.modal-dialog.modal-lgg[data-v-1cc5c703]{width:90%}}@media screen and (min-width:1200px){.modal-dialog.modal-lgg[data-v-1cc5c703]{width:1200px}}",""])},"2iqK":function(e,t,a){"use strict";var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{class:["modal",{fade:e.fade}],attrs:{"data-backdrop":"static","data-disable":"false","data-keyboard":"true",tabindex:"-1"}},[a("div",{class:["modal-dialog",e.size]},[a("div",{staticClass:"modal-content"},[a("div",{staticClass:"modal-header"},[e._m(0),e._v(" "),a("h4",{staticClass:"modal-title text-center text-primary"},[a("span",[e._v(e._s(e.title))])])]),e._v(" "),a("div",{staticClass:"modal-body"},[a("div",{staticClass:"form-inline",attrs:{autocomplete:"off",spellcheck:"false"}},[a("div",{staticClass:"form-group form-group-sm"},[a("label",[e._v("搜索")]),e._v(" "),!e.isMobile()&&e.hasAnyRole(e.serverInfo,e.userInfo,"超级管理员","管理员")?a("div",{staticClass:"input-group input-group-sm"},[a("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.q,expression:"q",modifiers:{trim:!0}}],ref:"q",staticClass:"form-control",attrs:{type:"text",placeholder:"关键字"},domProps:{value:e.q},on:{keydown:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key))return null;t.preventDefault()},input:function(t){t.target.composing||(e.q=t.target.value.trim())},blur:function(t){e.$forceUpdate()}}}),e._v(" "),a("div",{staticClass:"input-group-btn"},[a("button",{staticClass:"btn btn-sm btn-primary",attrs:{type:"button",title:"导出用户通道",disabled:e.hasAllChannel},on:{click:function(t){t.preventDefault(),e.download(t)}}},[a("i",{staticClass:"fa fa-download"})]),e._v(" "),a("button",{staticClass:"btn btn-sm btn-primary",attrs:{type:"button",title:"导入用户通道",disabled:e.hasAllChannel},on:{click:function(t){t.preventDefault(),e.upload(t)}}},[a("i",{staticClass:"fa fa-upload"})])])]):a("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.q,expression:"q",modifiers:{trim:!0}}],ref:"q",staticClass:"form-control",attrs:{type:"text",placeholder:"关键字"},domProps:{value:e.q},on:{keydown:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key))return null;t.preventDefault()},input:function(t){t.target.composing||(e.q=t.target.value.trim())},blur:function(t){e.$forceUpdate()}}})]),e._v(" "),a("span",{staticClass:"hidden-xs"},[e._v("  ")]),e._v(" "),a("div",{staticClass:"form-group form-group-sm"},[a("label",[e._v("通道类型")]),e._v(" "),a("select",{directives:[{name:"model",rawName:"v-model.trim",value:e.channel_type,expression:"channel_type",modifiers:{trim:!0}}],staticClass:"form-control",on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.channel_type=t.target.multiple?a:a[0]}}},[a("option",{attrs:{value:""}},[e._v("全部")]),e._v(" "),a("option",{attrs:{value:"device"}},[e._v("设备")]),e._v(" "),a("option",{attrs:{value:"decode"}},[e._v("解码器")]),e._v(" "),a("option",{attrs:{value:"dir"}},[e._v("子目录")])])]),e._v(" "),a("span",{staticClass:"hidden-xs"},[e._v("  ")]),e._v(" "),"device"==e.channel_type||"decode"==e.channel_type?a("div",{staticClass:"form-group form-group-sm"},[a("label",[e._v("在线状态")]),e._v(" "),a("select",{directives:[{name:"model",rawName:"v-model.trim",value:e.online,expression:"online",modifiers:{trim:!0}}],staticClass:"form-control",on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.online=t.target.multiple?a:a[0]}}},[a("option",{attrs:{value:""}},[e._v("全部")]),e._v(" "),a("option",{attrs:{value:"true"}},[e._v("在线")]),e._v(" "),a("option",{attrs:{value:"false"}},[e._v("离线")])])]):e._e(),e._v(" "),"device"==e.channel_type||"decode"==e.channel_type?a("span",{staticClass:"hidden-xs"},[e._v("  ")]):e._e(),e._v(" "),a("div",{staticClass:"form-group form-group-sm"},[a("div",{staticClass:"checkbox",staticStyle:{"user-select":"none"}},[a("el-checkbox",{staticStyle:{"margin-top":"-5px","padding-left":"0"},attrs:{size:"small",name:"Related",disabled:e.hasAllChannel},model:{value:e.related,callback:function(t){e.related="string"==typeof t?t.trim():t},expression:"related"}},[e._v("\n                                只看"+e._s(e.reverse?"未选":"已选")+"("+e._s(e.relateCnt)+")\n                            ")]),e._v(" "),a("span",{style:e.hasAllChannel?"cursor:not-allowed;":""},[a("a",{class:{"text-gray":e.hasAllChannel},style:{"pointer-events":e.hasAllChannel?"none":"all"},attrs:{role:"button"},on:{click:e.toggleReverse}},[a("i",{staticClass:"fa fa-sort"})])])],1)]),e._v(" "),a("span",{staticClass:"hidden-xs"},[e._v("  ")]),e._v(" "),!e.userInfo||e.userInfo.HasAllChannel?a("div",{staticClass:"form-group form-group-sm"},[a("div",{staticClass:"checkbox"},[a("el-checkbox",{staticStyle:{"margin-top":"-5px","padding-left":"0"},attrs:{size:"small",name:"HasAllChannel"},on:{change:e.toggleHasAllChannel},model:{value:e.hasAllChannel,callback:function(t){e.hasAllChannel=t},expression:"hasAllChannel"}},[e._v("全部关联")])],1)]):e._e()]),e._v(" "),a("br"),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],ref:"channelTable",attrs:{data:e.channels,stripe:"","max-height":500,"element-loading-text":"加载中..."},on:{"sort-change":e.sortChange,select:e.select,"select-all":e.selectAll}},[a("el-table-column",{attrs:{type:"selection",width:"55",fixed:"",selectable:e.selectable}}),e._v(" "),a("el-table-column",{attrs:{prop:"DeviceID",label:"设备国标编号","min-width":"200","show-overflow-tooltip":"",sortable:"custom"}}),e._v(" "),a("el-table-column",{attrs:{prop:"ID",label:"通道国标编号","min-width":"200","show-overflow-tooltip":"",sortable:"custom"}}),e._v(" "),a("el-table-column",{attrs:{prop:"Name",label:"通道名称","min-width":"160",formatter:e.formatName,"show-overflow-tooltip":""}}),e._v(" "),a("el-table-column",{attrs:{"min-width":"100",label:"快照"},scopedSlots:e._u([{key:"default",fn:function(t){return[e.isDir(t.row)?a("span",[a("i",{staticClass:"fa fa-sitemap"})]):a("el-popover",{attrs:{"open-delay":1e3,"close-delay":10,placement:"left",title:t.row.ID,width:"400",trigger:"hover"}},[a("img",{staticStyle:{width:"100%",height:"100%"},attrs:{onerror:"this.src='/images/default_snap.png';",src:t.row.SnapURL}}),e._v(" "),a("img",{staticStyle:{height:"30px",width:"50px"},attrs:{slot:"reference",onerror:"this.src='/images/default_snap.png';",src:t.row.SnapURL},slot:"reference"})])]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"Status",label:"在线状态","min-width":"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[e.isDir(t.row)?a("span",[e._v("-")]):t.row.DeviceOnline&&"ON"==(t.row.CustomStatus||t.row.Status)?a("span",{class:{"text-success":"ON"==t.row.Status,"text-orange":!!t.row.CustomStatus}},[e._v("在线")]):a("span",{class:{"text-orange":!!t.row.CustomStatus}},[e._v("离线")])]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"Manufacturer",label:"厂家","min-width":"120",formatter:e.formatManufacturer,"show-overflow-tooltip":""}})],1),e._v(" "),e.total>0?a("el-pagination",{staticClass:"pull-right",attrs:{layout:"total,prev,pager,next,sizes","pager-count":e.isMobile()?3:5,total:e.total,"page-size":e.pageSize,"current-page":e.currentPage},on:{"update:pageSize":function(t){e.pageSize=t},"update:currentPage":function(t){e.currentPage=t}}}):e._e(),e._v(" "),a("div",{staticClass:"clearfix"})],1)])]),e._v(" "),a("el-upload",{staticClass:"hide",attrs:{action:"/api/v1/user/channel/import?id="+e.id,accept:".xlsx","show-file-list":!1,"on-success":e.onUploadSuccess,"on-error":e.onUploadError,"on-progress":e.onUploadProgress}},[a("a",{ref:"uploadButton",attrs:{role:"button",title:"上传用户通道"}},[a("i",{staticClass:"fa fa-upload"}),e._v(" 上传用户通道\n        ")])])],1)},n=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[a("span",{attrs:{"aria-hidden":"true"}},[e._v("×")])])}],s={render:r,staticRenderFns:n};t.a=s},"5gxX":function(e,t,a){"use strict";function r(e){a("LbQQ")}Object.defineProperty(t,"__esModule",{value:!0});var n=a("qb8i"),s=a.n(n);for(var o in n)["default","default"].indexOf(o)<0&&function(e){a.d(t,e,function(){return n[e]})}(o);var i=a("lGU5"),l=a("VU/8"),u=r,c=l(s.a,i.a,!1,u,null,null);t.default=c.exports},"6LZB":function(e,t,a){"use strict";var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("FormDlg",{ref:"dlg",attrs:{title:"编辑用户",disabled:e.errors.any()},on:{hide:e.onHide,show:e.onShow,submit:e.onSubmit}},[a("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.form.ID,expression:"form.ID",modifiers:{trim:!0}}],attrs:{type:"hidden",name:"ID"},domProps:{value:e.form.ID},on:{input:function(t){t.target.composing||e.$set(e.form,"ID",t.target.value.trim())},blur:function(t){e.$forceUpdate()}}}),e._v(" "),a("div",{class:{"form-group":!0,"has-error":e.errors.has("Username")}},[a("label",{staticClass:"col-sm-4 control-label",attrs:{for:"input-username"}},[e._v("用户名\n            "),a("span",{staticClass:"text-red"},[e._v("*")])]),e._v(" "),a("div",{staticClass:"col-sm-7"},[a("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.form.Username,expression:"form.Username",modifiers:{trim:!0}},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"form-control",attrs:{type:"text",id:"input-username",name:"Username",readonly:e.reserve,"data-vv-as":"用户名"},domProps:{value:e.form.Username},on:{keydown:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key))return null;t.preventDefault(),e.$el.querySelector("#input-role").focus()},input:function(t){t.target.composing||e.$set(e.form,"Username",t.target.value.trim())},blur:function(t){e.$forceUpdate()}}})])]),e._v(" "),a("div",{class:{"form-group":!0,"has-error":e.errors.has("Role")}},[a("label",{staticClass:"col-sm-4 control-label",attrs:{for:"input-role"}},[e._v("角色\n            ")]),e._v(" "),a("div",{staticClass:"col-sm-7"},[a("el-select",{staticStyle:{width:"100%"},attrs:{id:"input-role",size:"medium",disabled:e.reserve,multiple:"",filterable:"","allow-create":"","default-first-option":"",placeholder:"请选择"},model:{value:e.roles,callback:function(t){e.roles="string"==typeof t?t.trim():t},expression:"roles"}},e._l(e.innerRoles,function(e,t){return a("el-option",{key:t,attrs:{label:e,value:e}})}))],1)]),e._v(" "),a("div",{class:{"form-group":!0,"has-error":e.errors.has("PhoneNumber")}},[a("label",{staticClass:"col-sm-4 control-label",attrs:{for:"input-phone-number"}},[e._v("手机号\n            ")]),e._v(" "),a("div",{staticClass:"col-sm-7"},[a("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.form.PhoneNumber,expression:"form.PhoneNumber",modifiers:{trim:!0}},{name:"validate",rawName:"v-validate",value:"regex:^1\\d{10}$",expression:"'regex:^1\\\\d{10}$'"}],staticClass:"form-control",attrs:{type:"text",id:"input-phone-number",name:"PhoneNumber","data-vv-as":"手机号",placeholder:"可选"},domProps:{value:e.form.PhoneNumber},on:{keydown:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key))return null;t.preventDefault(),e.$el.querySelector("#input-email").focus()},input:function(t){t.target.composing||e.$set(e.form,"PhoneNumber",t.target.value.trim())},blur:function(t){e.$forceUpdate()}}})])]),e._v(" "),a("div",{class:{"form-group":!0,"has-error":e.errors.has("Email")}},[a("label",{staticClass:"col-sm-4 control-label",attrs:{for:"input-email"}},[e._v("邮箱\n            ")]),e._v(" "),a("div",{staticClass:"col-sm-7"},[a("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.form.Email,expression:"form.Email",modifiers:{trim:!0}},{name:"validate",rawName:"v-validate",value:"email",expression:"'email'"}],staticClass:"form-control",attrs:{type:"text",id:"input-email",name:"Email","data-vv-as":"邮箱",placeholder:"可选"},domProps:{value:e.form.Email},on:{keydown:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key))return null;t.preventDefault(),e.$el.querySelector("#input-description").focus()},input:function(t){t.target.composing||e.$set(e.form,"Email",t.target.value.trim())},blur:function(t){e.$forceUpdate()}}})])]),e._v(" "),a("div",{class:{"form-group":!0,"has-error":e.errors.has("Description")}},[a("label",{staticClass:"col-sm-4 control-label",attrs:{for:"input-description"}},[e._v("备注\n        ")]),e._v(" "),a("div",{staticClass:"col-sm-7"},[a("el-input",{attrs:{id:"input-description",type:"textarea",autosize:{minRows:1,maxRows:10},rows:1,placeholder:"可选"},model:{value:e.form.Description,callback:function(t){e.$set(e.form,"Description","string"==typeof t?t.trim():t)},expression:"form.Description"}})],1)]),e._v(" "),e.reserve?e._e():a("div",{class:{"form-group":!0,"has-error":e.errors.has("Enable")}},[a("label",{staticClass:"col-sm-4 control-label"},[e._v("其它选项\n            ")]),e._v(" "),a("div",{staticClass:"col-sm-7 checkbox"},[a("el-checkbox",{staticStyle:{"margin-left":"-19px","margin-top":"-5px"},attrs:{size:"small",name:"Enable"},model:{value:e.form.Enable,callback:function(t){e.$set(e.form,"Enable","string"==typeof t?t.trim():t)},expression:"form.Enable"}},[e._v("\n                启用\n            ")])],1)])])},n=[],s={render:r,staticRenderFns:n};t.a=s},"9lF6":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a("wexv"),n=a.n(r);for(var s in r)["default","default"].indexOf(s)<0&&function(e){a.d(t,e,function(){return r[e]})}(s);var o=a("6LZB"),i=a("VU/8"),l=i(n.a,o.a,!1,null,null,null);t.default=l.exports},AjLP:function(e,t,a){"use strict";var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("FormDlg",{ref:"dlg",attrs:{title:e.title,disabled:e.errors.any()},on:{hide:e.onHide,show:e.onShow,submit:e.onSubmit}},[a("div",{class:{"form-group":!0,"has-feedback":!0,"has-error":e.errors.has("newPassword")}},[a("label",{staticClass:"col-sm-4 control-label",attrs:{for:"new-password"}},[e._v("新密码\n                "),a("span",{staticClass:"text-red"},[e._v("*")])]),e._v(" "),a("div",{staticClass:"col-sm-7"},[e.bRawPwd?a("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.form.newPassword,expression:"form.newPassword",modifiers:{trim:!0}},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"form-control",attrs:{type:"text",name:"newPassword","data-vv-as":"新密码"},domProps:{value:e.form.newPassword},on:{keydown:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key))return null;e.onSubmit(t)},input:function(t){t.target.composing||e.$set(e.form,"newPassword",t.target.value.trim())},blur:function(t){e.$forceUpdate()}}}):a("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.form.newPassword,expression:"form.newPassword",modifiers:{trim:!0}},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"form-control",attrs:{type:"password",name:"newPassword",autocomplete:"new-password","data-vv-as":"新密码"},domProps:{value:e.form.newPassword},on:{keydown:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key))return null;e.onSubmit(t)},input:function(t){t.target.composing||e.$set(e.form,"newPassword",t.target.value.trim())},blur:function(t){e.$forceUpdate()}}}),e._v(" "),e.bRawPwd?a("span",{staticClass:"glyphicon glyphicon-eye-open form-control-feedback text-gray",on:{click:function(t){e.bRawPwd=!e.bRawPwd}}}):a("span",{staticClass:"glyphicon glyphicon-eye-close form-control-feedback text-gray",on:{click:function(t){e.bRawPwd=!e.bRawPwd}}}),e._v(" "),a("p",{directives:[{name:"show",rawName:"v-show",value:e.form.newPassword,expression:"form.newPassword"}],staticClass:"help-block",staticStyle:{"margin-bottom":"0"}},[a("PasswordLine",{ref:"pwd-line",attrs:{pwd:e.form.newPassword},on:{"update:level":function(t){e.level=t}}})],1)])])])},n=[],s={render:r,staticRenderFns:n};t.a=s},"Jf+Z":function(e,t,a){t=e.exports=a("FZ+f")(!1),t.push([e.i,".form-group .form-control-feedback.glyphicon-eye-close[data-v-fd9353e0],.form-group .form-control-feedback.glyphicon-eye-open[data-v-fd9353e0]{pointer-events:auto;cursor:pointer}",""])},LbQQ:function(e,t,a){var r=a("rF1v");"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);a("rjj0")("080cae9a",r,!0,{})},R90y:function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function n(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,a){function r(n,s){try{var o=t[n](s),i=o.value}catch(e){return void a(e)}if(!o.done)return Promise.resolve(i).then(function(e){r("next",e)},function(e){r("throw",e)});e(i)}return r("next")})}}Object.defineProperty(t,"__esModule",{value:!0});var s=a("A9K1"),o=r(s),i=a("0iPh"),l=r(i),u=a("LClE"),c=r(u),d=a("NMjF");t.default={props:{serverInfo:{type:Object,default:function(){}},userInfo:{type:Object,default:function(){return null}}},data:function(){return{form:this.defForm(),username:"",level:0,bRawPwd:!0}},components:{FormDlg:o.default,PasswordLine:c.default},computed:{title:function(){return this.username?"重置密码("+this.username+")":"重置密码"}},methods:{defForm:function(){return{uid:"",newPassword:""}},onHide:function(){this.form=this.defForm(),this.level=0,this.username=""},onShow:function(){this.bRawPwd=!1,this.errors.clear()},onSubmit:function(){var e=this;return n(regeneratorRuntime.mark(function t(){var a,r;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$validator.validateAll();case 2:if(a=t.sent){t.next=8;break}return r=e.errors.items[0],e.$message({type:"error",message:r.msg}),(0,l.default)("[name="+r.field+"]").focus(),t.abrupt("return");case 8:if(!(e.level<(e.serverInfo.PwdLevel||0))){t.next=11;break}return e.$message({type:"error",message:"密码强度弱"}),t.abrupt("return");case 11:l.default.post("/api/v1/user/resetpassword",{id:e.form.uid,password:e.encryptPwd(e.form.newPassword)}).then(function(t){e.$refs.dlg.hide(),e.$message({type:"success",message:"密码重置成功！"})});case 12:case"end":return t.stop()}},t,e)}))()},show:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";this.bRawPwd=!0,this.errors.clear(),this.form.uid=e,this.username=t||"",this.$refs.dlg.show()},encryptPwd:function(e){if(!this.serverInfo.PwdPub)return e;var t=window.atob(this.serverInfo.PwdPub);if(t.indexOf("RSA Public Key")<0)return e;var a=new d.JSEncrypt;return a.setPublicKey(t),a.encrypt(e)}}}},Rukk:function(e,t,a){var r=a("/Yx9");"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);a("rjj0")("09545d49",r,!0,{})},asQR:function(e,t,a){"use strict";(function(e){function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},s=a("M4fF"),o=r(s),i=a("5gxX"),l=r(i),u=a("9lF6"),c=r(u),d=a("dIIS"),f=r(d),m=a("d4sJ"),p=r(m),v=a("NYxO");t.default={data:function(){return{q:"",enable:"",total:0,pageSize:10,currentPage:1,sort:"ID",order:"asc",loading:!1,users:[],userChannelListDlgTitle:"关联通道"}},computed:n({},(0,v.mapState)(["userInfo","serverInfo"])),components:{UploadDlg:l.default,UserEditDlg:c.default,UserPasswordResetDlg:f.default,UserChannelListDlg:p.default},mounted:function(){},beforeDestroy:function(){this.timer&&(clearInterval(this.timer),this.timer=0)},methods:{ready:function(){this.$watch("q",function(e,t){this.doDelaySearch()}),this.$watch("enable",function(e,t){this.doSearch()}),this.$watch("currentPage",function(e,t){this.doSearch(e)})},doSearch:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t={};this.q&&(t.q=this.q),this.enable&&(t.enable=this.enable),this.$router.replace({path:"/user/"+e,query:t})},doDelaySearch:o.default.debounce(function(){this.doSearch()},800),getUsers:function(){var t=this,a=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];a&&(this.loading=!0),e.ajax({method:"GET",url:"/api/v1/user/list",global:a,data:{q:this.q,start:(this.currentPage-1)*this.pageSize,limit:this.pageSize,enable:this.enable,sort:this.sort,order:this.order}}).then(function(e){t.total=e.UserCount,t.users=e.UserList}).always(function(){a&&t.$nextTick(function(){t.loading=!1})})},sortChange:function(e){this.sort=e.prop,this.order="ascending"==e.order?"asc":"desc",this.getUsers()},formatPhoneNumber:function(e,t,a){return a||"-"},formatEmail:function(e,t,a){return a||"-"},formatDescription:function(e,t,a){return a||"-"},isReserve:function(e){return"超级管理员"==e.Role&&!e.Cas&&!e.OAuth},editUser:function(e){this.$refs.userEditDlg.show(e,this.isReserve(e))},editChannel:function(e){this.userChannelListDlgTitle="关联通道("+(e.Username||e.ID)+")",this.$refs.userChannelListDlg.show(e.ID)},resetPassword:function(e){this.$refs.userPasswordResetDlg.show(e.ID,e.Username)},removeUser:function(t){var a=this;this.$confirm("确认删除 "+(t.Username||t.ID),"提示",{lockScroll:!1}).then(function(){e.post("/api/v1/user/remove",{id:t.ID}).always(function(){a.getUsers()})}).catch(function(){})},download:function(){window.open("/api/v1/user/export")},uploaded:function(){this.$message({type:"success",message:"上传成功！"}),this.getUsers(),this.$refs.uploadDlg.hide()},toggleEnable:function(t){e.post("/api/v1/user/setenable",{id:t.ID,enable:!t.Enable}).then(function(){t.Enable=!t.Enable})}},beforeRouteEnter:function(e,t,a){a(function(t){t.q=e.query.q||"",t.enable=e.query.enable||"",t.currentPage=parseInt(e.params.page)||1,t.ready()})},beforeRouteUpdate:function(e,t,a){var r=this;a(),this.$nextTick(function(){r.q=e.query.q||"",r.enable=e.query.enable||"",r.currentPage=parseInt(e.params.page)||1,r.users=[],r.total=0,r.getUsers()})}}}).call(t,a("0iPh"))},b5bs:function(e,t,a){var r=a("Jf+Z");"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);a("rjj0")("200f8acd",r,!0,{})},d4sJ:function(e,t,a){"use strict";function r(e){a("iDTm")}Object.defineProperty(t,"__esModule",{value:!0});var n=a("hNR+"),s=a.n(n);for(var o in n)["default","default"].indexOf(o)<0&&function(e){a.d(t,e,function(){return n[e]})}(o);var i=a("2iqK"),l=a("VU/8"),u=r,c=l(s.a,i.a,!1,u,"data-v-1cc5c703",null);t.default=c.exports},dIIS:function(e,t,a){"use strict";function r(e){a("b5bs")}Object.defineProperty(t,"__esModule",{value:!0});var n=a("R90y"),s=a.n(n);for(var o in n)["default","default"].indexOf(o)<0&&function(e){a.d(t,e,function(){return n[e]})}(o);var i=a("AjLP"),l=a("VU/8"),u=r,c=l(s.a,i.a,!1,u,"data-v-fd9353e0",null);t.default=c.exports},"hNR+":function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),a("F8S1");var n=a("0iPh"),s=r(n),o=a("M4fF"),i=r(o);t.default={props:{title:{default:""},size:{type:String,default:"modal-lgg"},fade:{type:Boolean,default:!1},serverInfo:{type:Object,default:function(){}},userInfo:{type:Object,default:function(){return null}}},data:function(){return{q:"",channel_type:"",online:"",total:0,relateCnt:0,pageSize:10,currentPage:1,sort:"",order:"",related:!1,reverse:!1,hasAllChannel:!1,loading:!1,channels:[],selection:[],id:""}},watch:{q:function(e,t){this.doDelaySearch()},channel_type:function(e,t){this.doSearch()},online:function(e,t){this.doSearch()},related:function(e,t){this.doSearch()},reverse:function(e,t){this.doSearch()},currentPage:function(e,t){this.doSearch(e)},pageSize:function(e,t){this.doSearch()}},mounted:function(){var e=this;(0,s.default)(this.$el).find(".modal-content").draggable({handle:".modal-header",cancel:".modal-title span",addClasses:!1,containment:"document",delay:100,opacity:.5}),(0,s.default)(this.$el).on("shown.bs.modal",function(){e.$emit("show")}).on("hidden.bs.modal",function(){e.errors.clear(),e.reset(),e.$emit("hide")})},methods:{sortChange:function(e){this.sort=e.prop,this.order="ascending"==e.order?"asc":"desc",this.getChannels()},select:function(e,t){var a=this;e.indexOf(t)>=0?s.default.post("/api/v1/user/savechannels",{id:this.id,channels:[t.DeviceID+":"+t.ID]}).always(function(){a.getChannels()}):s.default.post("/api/v1/user/removechannels",{id:this.id,channels:[t.DeviceID+":"+t.ID]}).always(function(){a.getChannels()})},selectAll:function(e){var t=this;if(!this.hasAllChannel){var a=[];if(e.length){var r=!0,n=!1,o=void 0;try{for(var i,l=e[Symbol.iterator]();!(r=(i=l.next()).done);r=!0){var u=i.value;this.selection.indexOf(u)<0&&a.push(u.DeviceID+":"+u.ID)}}catch(e){n=!0,o=e}finally{try{!r&&l.return&&l.return()}finally{if(n)throw o}}s.default.post("/api/v1/user/savechannels",{id:this.id,channels:a}).always(function(){t.getChannels()})}else{var c=!0,d=!1,f=void 0;try{for(var m,p=this.selection[Symbol.iterator]();!(c=(m=p.next()).done);c=!0){var u=m.value;a.push(u.DeviceID+":"+u.ID)}}catch(e){d=!0,f=e}finally{try{!c&&p.return&&p.return()}finally{if(d)throw f}}s.default.post("/api/v1/user/removechannels",{id:this.id,channels:a}).always(function(){t.getChannels()})}}},doSearch:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.currentPage=e,this.getChannels()},doDelaySearch:i.default.debounce(function(){this.doSearch()},800),formatName:function(e,t,a){var r=e.DeviceCustomName||e.DeviceName||"",n=e.CustomName||e.Name||"";return r&&r!=n&&(n=n?n+"@"+r:r),n||"-"},formatDeviceName:function(e,t,a){return e.DeviceCustomName||e.DeviceName||"-"},formatChannelName:function(e,t,a){return e.CustomName||e.Name||"-"},formatManufacturer:function(e,t,a){return a||"-"},selectable:function(e,t){return!this.hasAllChannel},getChannels:function(){var e=this;this.id&&(this.loading=!0,s.default.get("/api/v1/user/channellist",{id:this.id,q:this.q,start:(this.currentPage-1)*this.pageSize,limit:this.pageSize,channel_type:this.channel_type,online:"device"==this.channel_type||"decode"==this.channel_type?this.online:"",related:this.related,reverse:this.reverse,sort:this.sort,order:this.order}).then(function(t){e.$refs.channelTable.clearSelection(),e.total=t.ChannelCount,e.relateCnt=t.ChannelRelateCount,e.hasAllChannel=!!t.HasAllChannel,e.channels=t.ChannelList||[],e.selection=[],e.$nextTick(function(){e.channels.forEach(function(t){var a=0!==t.UserID;e.$refs.channelTable.toggleRowSelection(t,a),a&&e.selection.push(t)})})}).always(function(){e.$nextTick(function(){e.loading=!1})}))},isDir:function(e){if(e){if(e.SubCount>0)return!0;if(this.serverInfo.StrictChannelParental&&1==e.Parental)return!0;if(this.serverInfo.StrictChannelCode&&e.ID.length<=10)return!0;if(1==e.Parental&&"LiveQing"==e.Manufacturer)return!0;if(20==e.ID.length&&("216"==e.ID.substring(10,13)||"215"==e.ID.substring(10,13)))return!0}return!1},reset:function(){this.id="",this.$refs.channelTable.clearSelection(),this.channels=[],this.selection=[],this.q="",this.channel_type="",this.online="",this.related=!1,this.reverse=!1,this.total=0,this.relateCnt=0,this.hasAllChannel=!1,this.currentPage=1,this.pageSize=10},toggleHasAllChannel:function(e){var t=this;s.default.post("/api/v1/user/sethasallchannel",{id:this.id,hasallchannel:e}).always(function(){t.doSearch()})},show:function(e){this.id=e,(0,s.default)(this.$el).modal("show"),this.getChannels()},hide:function(){(0,s.default)(this.$el).modal("hide")},download:function(){window.open("/api/v1/user/channel/export?id="+this.id)},upload:function(){this.$refs.uploadButton.click()},onUploadSuccess:function(e,t,a){var r=this;this.loading=!1,this.$message({type:"success",message:"上传成功"}),this.$nextTick(function(){r.getChannels()})},onUploadProgress:function(e,t,a){this.loading=!0},onUploadError:function(e,t,a){this.loading=!1,e&&this.$message({type:"error",message:e+""})},toggleReverse:function(){this.reverse=!this.reverse}}}},iDTm:function(e,t,a){var r=a("2Y91");"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);a("rjj0")("3fb70466",r,!0,{})},j8yw:function(e,t,a){"use strict";function r(e){a("Rukk")}Object.defineProperty(t,"__esModule",{value:!0});var n=a("asQR"),s=a.n(n);for(var o in n)["default","default"].indexOf(o)<0&&function(e){a.d(t,e,function(){return n[e]})}(o);var i=a("xQMB"),l=a("VU/8"),u=r,c=l(s.a,i.a,!1,u,null,null);t.default=c.exports},lGU5:function(e,t,a){"use strict";var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"modal fade upload-dlg",attrs:{"data-backdrop":"static","data-keyboard":"true",tabindex:"-1"}},[a("div",{staticClass:"modal-dialog"},[a("div",{staticClass:"modal-content"},[a("div",{staticClass:"modal-header"},[e._m(0),e._v(" "),a("h4",{staticClass:"modal-title text-center text-info"},[a("span",[e._v(e._s(e.title))])])]),e._v(" "),a("div",{staticClass:"modal-body"},[e._t("header"),e._v(" "),a("el-upload",{ref:"uploader",attrs:{drag:e.drag,action:e.url,multiple:e.multiple,"show-file-list":e.showFileList,limit:1,"on-success":e.onSuccess,"on-progress":e.onProgress,"on-error":e.onError,"on-remove":e.onRemove,accept:e.accept,"before-upload":e.beforeUpload,"auto-upload":e.autoUpload}},[a("i",{staticClass:"el-icon-upload"}),e._v(" "),a("div",{staticClass:"el-upload__text"},[e._v("将配置数据拖到此处，或 "),a("em",[e._v("点击上传")])]),e._v(" "),a("div",{staticClass:"el-upload__tip text-center",attrs:{slot:"tip"},slot:"tip"},[e._v(e._s(e.tip)),a("span",{staticStyle:{color:"red"}},[e._v(" *上传成功会自动删除原有数据，请注意导出备份*")])])]),e._v(" "),e._t("footer")],2),e._v(" "),a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"btn btn-default",attrs:{type:"button","data-dismiss":"modal",disabled:e.bProgress}},[e._v("关闭")])])])])])},n=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[a("span",{attrs:{"aria-hidden":"true"}},[e._v("×")])])}],s={render:r,staticRenderFns:n};t.a=s},qb8i:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),a("F8S1");var r=a("0iPh"),n=function(e){return e&&e.__esModule?e:{default:e}}(r);t.default={props:{title:{default:"上传"},url:{type:String,default:""},multiple:{type:Boolean,default:!1},drag:{type:Boolean,default:!0},showFileList:{type:Boolean,default:!0},accept:{default:".xlsx"},tip:{default:"仅限上传.xlsx"},limit:{type:Number,default:0},autoUpload:{type:Boolean,default:!0}},data:function(){return{bShow:!1,bProgress:!1}},mounted:function(){var e=this;(0,n.default)(this.$el).find(".modal-content").draggable({handle:".modal-header",cancel:".modal-title span",addClasses:!1,containment:"document",delay:100,opacity:.5}),(0,n.default)(this.$el).on("shown.bs.modal",function(){e.$emit("show"),e.bShow=!0}).on("hidden.bs.modal",function(){e.$emit("hide"),e.bShow=!1,e.$refs.uploader.clearFiles()}).on("hide.bs.modal",function(){if(e.bProgress)return e.$message({type:"error",message:"正在上传, 请稍后..."}),!1})},methods:{show:function(){(0,n.default)(this.$el).modal("show")},hide:function(){(0,n.default)(this.$el).modal("hide")},beforeUpload:function(e){return!(this.limit&&e.size>this.limit)||(this.$message({type:"error",message:"文件["+e.name+"]大小超过限制["+this.limit+"], 不能上传!"}),!1)},onSuccess:function(e,t,a){var r=!0,n=!1,s=void 0;try{for(var o,i=a[Symbol.iterator]();!(r=(o=i.next()).done);r=!0){var l=o.value;if(100!=l.percentage&&0!==l.percentage)return void(this.bProgress=!0)}}catch(e){n=!0,s=e}finally{try{!r&&i.return&&i.return()}finally{if(n)throw s}}this.bProgress=!1,this.$emit("uploaded",t)},onProgress:function(e,t,a){this.bProgress=!0},onError:function(e,t,a){e&&this.$message({type:"error",message:e+""});var r=!0,n=!1,s=void 0;try{for(var o,i=a[Symbol.iterator]();!(r=(o=i.next()).done);r=!0){var l=o.value;if(100!=l.percentage&&0!==l.percentage)return void(this.bProgress=!0)}}catch(e){n=!0,s=e}finally{try{!r&&i.return&&i.return()}finally{if(n)throw s}}this.bProgress=!1},onRemove:function(e,t){var a=!0,r=!1,n=void 0;try{for(var s,o=t[Symbol.iterator]();!(a=(s=o.next()).done);a=!0){var i=s.value;if(100!=i.percentage&&0!==i.percentage)return void(this.bProgress=!0)}}catch(e){r=!0,n=e}finally{try{!a&&o.return&&o.return()}finally{if(r)throw n}}this.bProgress=!1}}}},rF1v:function(e,t,a){t=e.exports=a("FZ+f")(!1),t.push([e.i,".upload-dlg .modal-dialog .modal-body{overflow:hidden}.upload-dlg .modal-dialog .modal-body .el-upload{display:block}.upload-dlg .modal-dialog .modal-body .el-upload .el-upload-dragger{margin:0 auto}",""])},wexv:function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function n(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,a){function r(n,s){try{var o=t[n](s),i=o.value}catch(e){return void a(e)}if(!o.done)return Promise.resolve(i).then(function(e){r("next",e)},function(e){r("throw",e)});e(i)}return r("next")})}}Object.defineProperty(t,"__esModule",{value:!0});var s=a("A9K1"),o=r(s),i=a("0iPh"),l=r(i);t.default={data:function(){return{form:this.defForm(),innerRoles:["管理员","操作员","观众"],roles:[],reserve:!1}},components:{FormDlg:o.default},methods:{defForm:function(){return{ID:"",Username:"",Role:"",PhoneNumber:"",Email:"",Description:"",Enable:!0}},onHide:function(){this.form=this.defForm(),this.roles=[],this.reserve=!1},onShow:function(){this.errors.clear()},onSubmit:function(){var e=this;return n(regeneratorRuntime.mark(function t(){var a,r;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$validator.validateAll();case 2:if(a=t.sent){t.next=8;break}return r=e.errors.items[0],e.$message({type:"error",message:r.msg}),(0,l.default)("[name="+r.field+"]").focus(),t.abrupt("return");case 8:e.form.Role=e.roles.join(","),l.default.post("/api/v1/user/save",e.form).then(function(t){e.form.ID?e.$message({type:"success",message:"编辑用户成功"}):e.$message({type:"success",duration:15e3,showClose:!0,message:"创建用户成功, 初始密码 "+t.DefaultUserPassword}),e.$refs.dlg.hide(),e.$emit("submit")});case 10:case"end":return t.stop()}},t,e)}))()},show:function(e){var t=this,a=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.errors.clear(),e&&Object.assign(this.form,e),this.form.Role&&(this.roles=this.form.Role.split(",")),this.reserve=a,this.$nextTick(function(){t.$refs.dlg.show()})}}}},xQMB:function(e,t,a){"use strict";var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"box box-primary"},[e._m(0),e._v(" "),a("div",{staticClass:"box-body"},[a("div",{staticClass:"form-inline",attrs:{autocomplete:"off",spellcheck:"false"}},[a("div",{staticClass:"form-group form-group-sm"},[a("div",{staticClass:"input-group input-group-sm"},[a("button",{staticClass:"btn btn-sm btn-primary",attrs:{type:"button"},on:{click:function(t){t.preventDefault(),e.$refs.userEditDlg.show()}}},[a("i",{staticClass:"fa fa-plus"}),e._v(" 添加用户\n                        ")])])]),e._v(" "),a("span",{staticClass:"hidden-xs"},[e._v("  ")]),e._v(" "),a("div",{staticClass:"form-group form-group-sm"},[a("label",[e._v("搜索")]),e._v(" "),!e.isMobile()&&e.hasAnyRole(e.serverInfo,e.userInfo,"超级管理员")?a("div",{staticClass:"input-group input-group-sm"},[a("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.q,expression:"q",modifiers:{trim:!0}}],ref:"q",staticClass:"form-control",attrs:{type:"text",placeholder:"关键字"},domProps:{value:e.q},on:{keydown:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key))return null;t.preventDefault()},input:function(t){t.target.composing||(e.q=t.target.value.trim())},blur:function(t){e.$forceUpdate()}}}),e._v(" "),a("div",{staticClass:"input-group-btn"},[a("button",{staticClass:"btn btn-sm btn-primary",attrs:{type:"button",title:"导出用户列表"},on:{click:function(t){t.preventDefault(),e.download(t)}}},[a("i",{staticClass:"fa fa-download"})]),e._v(" "),a("button",{staticClass:"btn btn-sm btn-primary",attrs:{type:"button",title:"导入用户列表"},on:{click:function(t){t.preventDefault(),e.$refs.uploadDlg.show()}}},[a("i",{staticClass:"fa fa-upload"})])])]):a("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.q,expression:"q",modifiers:{trim:!0}}],ref:"q",staticClass:"form-control",attrs:{type:"text",placeholder:"关键字"},domProps:{value:e.q},on:{keydown:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key))return null;t.preventDefault()},input:function(t){t.target.composing||(e.q=t.target.value.trim())},blur:function(t){e.$forceUpdate()}}})]),e._v(" "),a("span",{staticClass:"hidden-xs"},[e._v("  ")]),e._v(" "),a("div",{staticClass:"form-group form-group-sm"},[a("label",[e._v("状态")]),e._v(" "),a("select",{directives:[{name:"model",rawName:"v-model.trim",value:e.enable,expression:"enable",modifiers:{trim:!0}}],staticClass:"form-control",on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.enable=t.target.multiple?a:a[0]}}},[a("option",{attrs:{value:""}},[e._v("全部")]),e._v(" "),a("option",{attrs:{value:"true"}},[e._v("启用")]),e._v(" "),a("option",{attrs:{value:"false"}},[e._v("禁用")])])])]),e._v(" "),a("br"),e._v(" "),a("div",{staticClass:"clearfix"}),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{data:e.users,stripe:"","default-sort":{prop:"CreatedAt",order:"descending"},"element-loading-text":"加载中..."},on:{"sort-change":e.sortChange}},[a("el-table-column",{attrs:{prop:"Username",label:"用户名","min-width":"120","show-overflow-tooltip":"",sortable:"custom"}}),e._v(" "),a("el-table-column",{attrs:{label:"操作","min-width":"280",fixed:!e.isMobile()&&"right","class-name":"opt-group"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",{staticClass:"btn-group btn-group-xs"},[a("button",{staticClass:"btn btn-warning",attrs:{type:"button"},on:{click:function(a){a.preventDefault(),e.editUser(t.row)}}},[a("i",{staticClass:"fa fa-edit"}),e._v(" 编辑\n                            ")]),e._v(" "),e.isReserve(t.row)?e._e():a("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:function(a){a.preventDefault(),e.editChannel(t.row)}}},[a("i",{staticClass:"fa fa-check"}),e._v(" 关联通道\n                            ")]),e._v(" "),e.isReserve(t.row)?e._e():a("button",{staticClass:"btn btn-info",attrs:{type:"button"},on:{click:function(a){a.preventDefault(),e.resetPassword(t.row)}}},[a("i",{staticClass:"fa fa-key"}),e._v(" 重置密码\n                            ")]),e._v(" "),e.isReserve(t.row)?e._e():a("button",{staticClass:"btn btn-danger",attrs:{type:"button"},on:{click:function(a){a.preventDefault(),e.removeUser(t.row)}}},[a("i",{staticClass:"fa fa-remove"}),e._v(" 删除\n                            ")])])]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"Role",label:"角色","min-width":"200","show-overflow-tooltip":"",sortable:"custom"}}),e._v(" "),a("el-table-column",{attrs:{prop:"PhoneNumber",label:"手机号","min-width":"120",formatter:e.formatPhoneNumber,"show-overflow-tooltip":""}}),e._v(" "),a("el-table-column",{attrs:{prop:"Email",label:"邮箱","min-width":"180",formatter:e.formatEmail,"show-overflow-tooltip":""}}),e._v(" "),a("el-table-column",{attrs:{prop:"Description",label:"备注","min-width":"200",formatter:e.formatDescription,"show-overflow-tooltip":""}}),e._v(" "),a("el-table-column",{attrs:{prop:"Enable",label:"是否启用","min-width":"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[e.isReserve(t.row)?e._e():a("el-switch",{attrs:{value:t.row.Enable},on:{change:function(a){e.toggleEnable(t.row)}}})]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"LastLoginAt",label:"最近登录","min-width":"160",sortable:"custom"}}),e._v(" "),a("el-table-column",{attrs:{prop:"UpdatedAt",label:"更新时间","min-width":"160",sortable:"custom"}}),e._v(" "),a("el-table-column",{attrs:{prop:"CreatedAt",label:"创建时间","min-width":"160",sortable:"custom"}})],1)],1),e._v(" "),e.total>0?a("div",{staticClass:"box-footer"},[a("el-pagination",{staticClass:"pull-right",attrs:{layout:"total,prev,pager,next","pager-count":e.isMobile()?3:5,total:e.total,"page-size":e.pageSize,"current-page":e.currentPage},on:{"update:pageSize":function(t){e.pageSize=t},"update:currentPage":function(t){e.currentPage=t}}})],1):e._e()]),e._v(" "),a("UploadDlg",{ref:"uploadDlg",attrs:{title:"上传用户列表",url:"/api/v1/user/import"},on:{uploaded:e.uploaded}}),e._v(" "),a("UserEditDlg",{ref:"userEditDlg",on:{submit:function(t){e.getUsers()}}}),e._v(" "),a("UserPasswordResetDlg",{ref:"userPasswordResetDlg",attrs:{serverInfo:e.serverInfo,userInfo:e.userInfo}}),e._v(" "),a("UserChannelListDlg",{ref:"userChannelListDlg",attrs:{serverInfo:e.serverInfo,userInfo:e.userInfo,title:e.userChannelListDlgTitle}})],1)},n=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"box-header"},[a("h4",{staticClass:"text-primary text-center"},[e._v("用户列表")])])}],s={render:r,staticRenderFns:n};t.a=s}});